/*! flexnav https://github.com/indyplanets/flexnav http://unlicense.org/ 2013-08-02 */
!function(){$.fn.flexNav=function(a){var b,c,d,e,f,g,h;return h=$.extend({animationSpeed:150,buttonSelector:".menu-button"},a),b=$(this),e=!1,d=!1,b.find("li").each(function(){return $(this).has("ul").length?$(this).addClass("item-with-ul").find("ul").hide():void 0}),b.data("breakpoint")&&(c=b.data("breakpoint")),f=function(){return $(window).width()<=c?(b.removeClass("lg-screen").addClass("sm-screen"),$(".one-page li a").on("click",function(){return b.removeClass("show")}),$(".item-with-ul").off()):(b.removeClass("sm-screen").addClass("lg-screen"),b.removeClass("show"),$(".item-with-ul").on("mouseenter",function(){return $(this).find(">ul").addClass("show").stop(!0,!0).slideDown(h.animationSpeed)}).on("mouseleave",function(){return $(this).find(">ul").removeClass("show").stop(!0,!0).slideUp(h.animationSpeed)}))},$(h.buttonSelector).data("navEl",b),g=".item-with-ul, "+h.buttonSelector,$(g).append('<span class="touch-button"><i class="navicon">&#9660;</i></span>'),g=h.buttonSelector+", "+h.buttonSelector+" .touch-button",$(g).on("touchstart mousedown",function(a){return a.preventDefault(),a.stopPropagation(),console.log(d),$(this).on("touchmove mousemove",function(a){var b;return b=a.pageX,d=!0,$(window).off("touchmove mousemove")})}).on("touchend mouseup",function(a){var b,c,f;if(a.preventDefault(),a.stopPropagation(),f=h.buttonSelector,b=$(this).is(f)?$(this):$(this).parent(f),c=b.data("navEl"),d=!1,d===!1){if(console.log("clicked"),e===!1)return c.addClass("show"),e=!0;if(e===!0)return c.removeClass("show"),e=!1}}),$(".touch-button").on("touchstart mousedown",function(a){return a.stopPropagation(),a.preventDefault(),$(this).on("touchmove mousemove",function(){return d=!0,$(window).off("touchmove mousemove")})}).on("touchend mouseup",function(a){var c;return a.preventDefault(),a.stopPropagation(),c=$(this).parent(".item-with-ul").find(">ul"),b.hasClass("lg-screen")===!0&&$(this).parent(".item-with-ul").siblings().find("ul.show").removeClass("show").hide(),c.hasClass("show")===!0?c.removeClass("show").slideUp(h.animationSpeed):c.hasClass("show")===!1?c.addClass("show").slideDown(h.animationSpeed):void 0}),b.find(".item-with-ul *").focus(function(){return $(this).parent(".item-with-ul").parent().find(".open").not(this).removeClass("open").hide(),$(this).parent(".item-with-ul").find(">ul").addClass("open").show()}),f(),$(window).on("resize",f)}}.call(this);